<ion-content>
  <ion-grid>
    <ion-row class="lifes">
      <div *ngFor="let idx of [3,2,1]">
        <ion-col *ngIf="idx <= gameService.getLifes()">
          <img src="../../assets/images/coeur.svg" class="heart">
        </ion-col>
        <ion-col *ngIf="idx > gameService.getLifes()">
          <img src="../../assets/images/coeurblack.svg" class="heart">
        </ion-col>
      </div>
    </ion-row>
  </ion-grid>
  <ion-grid>
    <ion-row>
        <img class="img-li" src="../../assets/images/Li2.svg">
      <p class="clock">{{timerService.getTime()}}</p>
    </ion-row>
    <ion-spinner class="spinner-question" *ngIf="isLoading" name="crescent"></ion-spinner>
    <div *ngIf="!isLoading">
    <ion-row>
      <p class="question">
        {{question}}
      </p>
    </ion-row>
    <ion-row *ngIf="answerType == 0 && questionType == 1 && !this.timerService.getTimerIsFinish()">
      <ion-col>
        <ion-button shape="round" class="typeAnswer" (click)="onChooseTypeAnswer(1)">Cash</ion-button>
      </ion-col>
      <ion-col>
        <ion-button shape="round" class="typeAnswer" (click)="onChooseTypeAnswer(4)">Square</ion-button>        
      </ion-col>
      <ion-col>
        <ion-button shape="round" class="typeAnswer" (click)="onChooseTypeAnswer(2)">Duo</ion-button>        
      </ion-col>
    </ion-row>
    <ion-row *ngIf="questionType == 2 && this.currentplaceinfo != undefined && !this.timerService.getTimerIsFinish()">
      <ion-grid>
        <ion-row>
          <ion-col>
            <a (click)="isrightPicture(0)">
              <img src="{{this.pictures[0]}}">
            </a>
          </ion-col>
          <ion-col>
            <a (click)="isrightPicture(1)">
              <img src="{{this.pictures[1]}}">
            </a>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <a (click)="isrightPicture(2)">
              <img src="{{this.pictures[2]}}">
            </a>
          </ion-col>
          <ion-col>
            <a (click)="isrightPicture(3)">
              <img src="{{this.pictures[3]}}">
            </a>
          </ion-col>
        </ion-row>
      </ion-grid>
      </ion-row>
        <ion-row *ngIf="answerType == 1 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()" class="row-form-cash">
          <form [formGroup]="cashForm" (ngSubmit)="validate()" class="form-cash">
              <ion-input class="input-answer" formControlName="answer" type="text" placeholder="Enter an answer..."></ion-input>
              <button class="btn-validate" type="submit">Validate</button>
          </form>
        </ion-row>
        <ion-row class="row-sentence-answer">
          <ion-text>{{this.message}}</ion-text>
          <ion-text *ngIf="this.timerService.getTimerIsFinish()">Sorry, it took you too long to answer</ion-text>
          <ion-button color="success" *ngIf="canShowGoToAnswer || this.timerService.getTimerIsFinish()" (click)="pathToResultPage()">See the right answer</ion-button>
        </ion-row>
        <ion-row *ngIf="answerType == 4 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()">
          <ion-col>
            <ion-button shape="round" class="typeAnswer" (click)="checkSelectedAnswer(answer.answer1)"> {{ answer.answer1 }} </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="answerType == 4 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()">
          <ion-col>
            <ion-button shape="round" class="typeAnswer" (click)="checkSelectedAnswer(answer.answer2)"> {{ answer.answer2 }} </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="answerType == 4 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()">
          <ion-col>
            <ion-button shape="round" class="typeAnswer" (click)="checkSelectedAnswer(answer.answer3)"> {{ answer.answer3 }} </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="answerType == 4 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()">
          <ion-col>
            <ion-button shape="round" class="typeAnswer" (click)="checkSelectedAnswer(answer.answer4)"> {{ answer.answer4 }} </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="answerType == 2 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()">
          <ion-col>
            <ion-button shape="round" class="typeAnswer" (click)="checkSelectedAnswer(answer.answer1)"> {{ answer.answer1 }} </ion-button>
          </ion-col>
        </ion-row>
        <ion-row *ngIf="answerType == 2 && questionType == 1 && this.canShowAnswer !== false && !this.timerService.getTimerIsFinish()">
          <ion-col>
            <ion-button shape="round" class="typeAnswer" (click)="checkSelectedAnswer(answer.answer2)"> {{ answer.answer2 }} </ion-button>
          </ion-col>
        </ion-row>
      </div>
    </ion-grid>
</ion-content>
